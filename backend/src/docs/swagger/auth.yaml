paths:
  /auth/register:
    post:
      summary: Registrar un nuevo usuario
      description: Crea una nueva cuenta de usuario en el sistema
      tags:
        - Auth
      security: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - name
                - email
                - password
              properties:
                name:
                  type: string
                  example: Isaac Tovar
                  description: Nombre completo del usuario
                email:
                  type: string
                  format: email
                  example: isaac@test.com
                  description: Email único del usuario
                password:
                  type: string
                  format: password
                  example: password123
                  minLength: 8
                  description: Contraseña (mínimo 8 caracteres)
                role:
                  type: string
                  enum: [admin, member, viewer]
                  default: member
                  description: Rol del usuario (solo admin puede asignar roles)
      responses:
        '201':
          description: Usuario registrado exitosamente
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    type: object
                    properties:
                      token:
                        type: string
                        example: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
                      user:
                        $ref: '#/components/schemas/User'
        '400':
          description: Error de validación
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
              examples:
                emailExists:
                  value:
                    success: false
                    message: El email ya está registrado
                invalidData:
                  value:
                    success: false
                    message: Datos de registro inválidos

  /auth/login:
    post:
      summary: Iniciar sesión
      description: Autentica un usuario y devuelve un token JWT
      tags:
        - Auth
      security: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - email
                - password
              properties:
                email:
                  type: string
                  format: email
                  example: isaac@test.com
                password:
                  type: string
                  format: password
                  example: password123
      responses:
        '200':
          description: Login exitoso
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    type: object
                    properties:
                      token:
                        type: string
                        description: Token JWT para autenticación
                        example: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
                      user:
                        $ref: '#/components/schemas/User'
        '401':
          description: Credenciales inválidas
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
              example:
                success: false
                message: Email o contraseña incorrectos

  /auth/me:
    get:
      summary: Obtener usuario autenticado
      description: Devuelve la información del usuario actualmente autenticado
      tags:
        - Auth
      security:
        - bearerAuth: []
      responses:
        '200':
          description: Usuario obtenido exitosamente
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    $ref: '#/components/schemas/User'
        '401':
          description: No autenticado o token inválido
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
              example:
                success: false
                message: No autorizado, token inválido
